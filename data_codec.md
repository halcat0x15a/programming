---
layout: default
title: data.codec
---

# data.codec

Clojureによるコーデックの実装です.

が,現在Base64だけが実装されています.

## インストール

project.cljは以下の通り.

```clojure
(defproject programming "0.1.0-SNAPSHOT"
  :dependencies [[org.clojure/clojure "1.5.1"]
                 [org.clojure/data.codec "0.1.0"]])
```

## 基本的な使い方

エンコード

```clojure
(require '[clojure.data.codec.base64 :refer (encode)])

(assert (= (-> "ABC" .getBytes encode seq) '(81 85 74 68)))
```

デコード

```clojure
(require '[clojure.data.codec.base64 :refer (decode)])

(assert (= (->> '(81 85 74 68) (map byte) byte-array decode String.) "ABC"))
```

他には,java.io.InputStreamからjava.io.OutputStreamへエンコード,デコードするための`encoding-transfer`と`decoding-transfer`が定義されています.

### サンプル

Data URI Schemeを使って画像を表示します.

```clojure
(ns data-uri-scheme
  (:require [clojure.data.codec.base64 :refer (encode)])
  (:import [java.nio.file Paths Files]))

(defn -main [path]
  (->> (Paths/get path (make-array String 0))
       Files/readAllBytes
       encode
       String.
       (str "data:image/png;base64,")
       println))
```

以下は実行例です.

localhost% lein run -m data-uri-scheme scalachan.png
<data:image/png;base64,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>
